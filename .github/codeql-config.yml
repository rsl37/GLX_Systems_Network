---
name: "CodeQL Configuration (Solo Developer Optimized)"

# Disable default queries that might be too strict for solo dev
disable-default-queries: false

# Include security and quality queries but allow for flexibility
queries:
  - uses: security-and-quality
  - uses: security-extended  # Additional security checks

# Focus on application code, ignore test files for cleaner results
paths:
  - GLX_App_files/client/src
  - GLX_App_files/server
  - GLX_App_files/scripts
  - GLX_App_files/src

# Ignore common directories that don't need security analysis
paths-ignore:
  - node_modules
  - dist
  - build
  - coverage
  - "**/*.test.ts"
  - "**/*.test.js"
  - "**/*.spec.ts"
  - "**/*.spec.js"
  - "**/*.d.ts"
  - "**/*.config.js"
  - "**/*.config.ts"

# Solo developer specific configuration
packs:
  # Include JavaScript security pack but don't make it blocking
  - "codeql/javascript-queries:AlertSuppression.ql"

# Filter out incremental analysis issues that can cause failures
query-filters:
  - exclude:
      # Exclude queries tagged with 'exclude-from-incremental' because these queries are known to cause failures or unreliable results during incremental analysis.
      # This prevents incremental analysis from breaking due to queries that are not designed to work correctly in incremental mode.
      tags: exclude-from-incremental
